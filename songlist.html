<!DOCTYPE html>
<html>
<head>
    <title>Song List</title>
    <script> 
   //Based on the json ajax example code. 

    function makeMessage() {
        
        //Make an http request. 
        var req = new XMLHttpRequest();

        console.log("1: create req");
    
    // Step 2: Open the JSON file at remote location
    
        request.open("GET", "https://manpreetkaur08.github.io/json_songlist-/songlist.json", true);
    
        console.log("2: open success");
    
        //callback for http response. 
    
        request.onreadystatechange = function() {

            console.log("3:  event");
    
    
            if (req.readyState == 4 && req.status == 200) {
    
                //Parse data. 

                console.log("5:  data is ready");
                new_data = req.responseText;

                returnHTML = new_data;
                
                var data = JSON.parse(new_data);
    
                returnHTML += "<br>"+

                    data["description"];
    
                document.getElementById("message").innerHTML =returnHTML;
            }
            else if (req.readyState == 4 && req.status != 200) {
    
                document.getElementById("message").innerHTML = "Something went wrong.";
    
            }
    
            else if (req.readyState == 3) {
    
                console.log("6:  ready state 3- request received,data being sent");

                document.getElementById("message").innerHTML = "Come back soon!";
    
            }
    
        }
    
    // Http request. 
        req.send();
        console.log("4 request sent");
    }
</script>
    
</head>

    <body onload="makeMessage()">
    	<h1>SongList</h1>
    	<div id="message">Loading</div>
    
</body>
</html>

